{% load static %}

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="shortcut icon" href="{% static 'images/film.png' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <title>Intro</title>
  <style>
    @font-face {
      font-family: 'NanumSquareNeoBold';
      src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.eot);
      src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.eot?#iefix) format("embedded-opentype"), url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.woff) format("woff"), url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-cBd.ttf) format("truetype");
    }

    html {
      background-color: black;
    }

    div {
      background-color: black;
    }
  </style>
</head>

<body class="container text-center" style="margin-top: 24rem; padding: 0;">
  <div>
    <div>
      <h1 class="mcu-greetings text-white"><span class="text-danger">M</span>CU에 어서오세요!</h1>
      <div class="d-flex justify-content-center">
        <h5 class="p-0 m-0" id="indicator-2"></h5>
        <h5 class="p-0 m-0" id="timer-2"></h5>
      </div>
      <div class="d-flex justify-content-center">
        <h5 class="p-0 m-0" id="indicator-3"></h5>
        <h5 class="p-0 m-0" id="timer-3"></h5>
      </div>
      <div class="d-flex justify-content-center">
        <h5 class="p-0 m-0" id="indicator-4"></h5>
        <h5 class="p-0 m-0" id="timer-4"></h5>
      </div>
      <div class="d-flex justify-content-center">
        <h5 class="p-0 m-0" id="indicator-5"></h5>
        <h5 class="p-0 m-0" id="timer-5"> </h5>
      </div>
      <div class="d-flex justify-content-center mb-0">
        <p class="p-0 m-0" id="indicator-1"></p>
        <p class="p-0 m-0" id="timer-1"></p>
        <p class="p-0 m-0" id="s"></p>
      </div>
      <div class="mt-2" id="spinner-div" role="status">
        <span class="visually-hidden">스피너</span>
      </div>
    </div>

  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
  <script type="text/javascript">
    const timer = setTimeout(function () {
      window.location = "{% url 'index:intro' %}"
    }, 18000);

    let sec = 15;

    let s = document.getElementById("s");
    let timer_1 = document.getElementById("timer-1");
    let greeting_1 = document.getElementById("indicator-1");
    let greeting_2 = document.getElementById("indicator-2");
    let greeting_3 = document.getElementById("indicator-3");
    let greeting_4 = document.getElementById("indicator-4");
    let greeting_5 = document.getElementById("indicator-5");

    const x = setInterval(function () {
      if (sec >= 0 && sec < 11) {
        s.textContent = "초";
        s.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
        timer_1.textContent = "\u00a0" + sec + "\u00a0";
        timer_1.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
        greeting_1.textContent = "인트로 진입까지";
        greeting_1.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
      };
      if (sec > 8) {
        greeting_2.textContent = "잠시만 기다려주세요...";
        greeting_2.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
      } else if (sec > 5) {
        greeting_2.textContent = "";
        greeting_3.textContent = "방문해주셔서 감사합니다!";
        greeting_3.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
      } else if (sec > 2) {
        greeting_3.textContent = "";
        greeting_4.textContent = "감상 후 글 남겨주세요!";
        greeting_4.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
      } else if (sec >= 0) {
        greeting_4.textContent = "";
        greeting_5.textContent = "감사합니다...";
        greeting_5.classList.add("animate__animated", "animate__fadeInUp", "animate__duration-1s", "text-white");
      } else if (sec < 0) {
        s.textContent = "";
        timer_1.textContent = "";
        greeting_1.textContent = "불러오는 중...";
        greeting_5.textContent = "";
        const spinner = document.querySelector("#spinner-div");
        spinner.classList.add("spinner-border", "text-danger");
      } if (sec < 4) {
        timer_1.classList.remove("text-white");
        timer_1.classList.add("text-danger");
      };
      sec--;
    }, 1000);
  </script>
</body>

</html>