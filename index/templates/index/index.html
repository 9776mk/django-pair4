{% load static %}

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="shortcut icon" href="{% static 'images/film.png' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <title>Intro</title>
  <style>
    html {
      background-color: black;
    }

    div {
      background-color: black;
    }
  </style>
</head>

<body class="container text-center mt-5 p-0">
  <div>
    <div>
      <h1 class="mcu-greetings-1 text-white">환영합니다!</h1>
      <h3 class="mcu-greetings-2 text-white">
        MCU에 어서오세요!
      </h3>
      <p id="indicator-1" class="lead fs-6"></p>
      <p id="indicator-2" class="lead fs-6"></p>
      <p id="indicator-3" class="lead fs-6"></p>
      <p id="indicator-4" class="lead fs-6"></p>
      <p id="indicator-5" class="lead fs-6"></p>
      <div id="spinner-div" role="status">
        <span class="visually-hidden text-white">스피너</span>
      </div>
    </div>

  </div>
  <script type="text/javascript">
    const timer = setTimeout(function () {
      window.location = "{% url 'index:intro' %}"
    }, 19000);

    let sec = 15;

    let greeting_1 = document.getElementById("indicator-1");
    let greeting_2 = document.getElementById("indicator-2");
    let greeting_3 = document.getElementById("indicator-3");
    let greeting_4 = document.getElementById("indicator-4");
    let greeting_5 = document.getElementById("indicator-5");

    const x = setInterval(function () {
      if (sec >= 0 && sec < 11) {
        greeting_1.textContent = sec + "초 후에 인트로에 진입합니다.";
        greeting_1.classList.add("animate__animated", "animate__fadeIn", "animate__duration-1s");
      };
      if (sec > 7) {
        greeting_2.textContent = "잠시만 기다려주세요...";
        greeting_2.classList.add("animate__animated", "animate__fadeIn", "animate__duration-1s");
      } else if (sec > 5) {
        greeting_2.textContent = "";
        greeting_3.textContent = "방문해주셔서 감사합니다!";
        greeting_3.classList.add("animate__animated", "animate__fadeIn", "animate__duration-1s, text-white");
      } else if (sec > 3) {
        greeting_3.textContent = "";
        greeting_4.textContent = "감상 후 글 남겨주세요!";
        greeting_4.classList.add("animate__animated", "animate__fadeIn", "animate__duration-1s, text-white");
      } else if (sec >= 0) {
        greeting_4.textContent = "";
        greeting_5.textContent = "이제 진입하겠습니다.";
        greeting_5.classList.add("animate__animated", "animate__fadeIn", "animate__duration-1s, text-white");
      } else {
        greeting_1.textContent = "잠시만 더 기다려주세요...";
        greeting_2.textContent = ""
        greeting_5.textContent = ""
        const spinner = document.querySelector("#spinner-div")
        spinner.classList.add("spinner-border", "text-primary")
      };
      sec--;
    }, 1000);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
</body>

</html>